@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

@section styles{
    <style type="text/css">
      /*  #container {
            height: 400px;
        }*/

        .highcharts-figure,
        .highcharts-data-table table {
            min-width: 310px;
           /* max-width: 800px;*/
            margin: 1em auto;
        }

        #datatable {
            font-family: Verdana, sans-serif;
            border-collapse: collapse;
            border: 1px solid #ebebeb;
            margin: 10px auto;
            text-align: center;
            width: 100%;
            /*max-width: 500px;*/
        }

            #datatable caption {
                padding: 1em 0;
                font-size: 1.2em;
                color: #555;
            }

            #datatable th {
                font-weight: 600;
                padding: 0.5em;
            }

            #datatable td,
            #datatable th,
            #datatable caption {
                padding: 0.5em;
            }

            #datatable thead tr,
            #datatable tr:nth-child(even) {
                background: #f8f8f8;
            }

            #datatable tr:hover {
                background: #f1f7ff;
            }

    </style>
}


<figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description">
The Covid-19 virus spread started in the year 2019, reached its hightest in terms of number of persons infected and by 2022 it can be seen to drop tremendously 
    </p>
@*  Table Started *@
    <table id="datatable">
        <thead>
            <tr>
                <th>Year </th>
                <th>Total Tested</th>
                <th>Total Positive</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>2020</th>
                <td>270 063</td>
                <td>125 916</td>
            </tr>
            <tr>
                <th>2021</th>
                <td>324 684</td>
                <td>187 376</td>
            </tr>
            <tr>
                <th>2022</th>
                <td>400 042</td>
                <td>56 453</td>
            </tr>
        </tbody>
    </table>
</figure>


@*
<div class="text-center">
    <h1 class="display-4">Welcome @Model.covid_dataset.Count() </h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>*@

@section scripts {
    <script src="~/js/highcharts/highcharts.js"></script>
    <script src="~/js/highcharts/data.js"></script>
    <script src="~/js/highcharts/exporting.js"></script>
    <script src="~/js/highcharts/accessibility.js"></script>

    <script type="text/javascript">
        Highcharts.chart('container', {
            data: {
                table: 'datatable'
            },
            chart: {
                type: 'column'
            },
            title: {
                text: 'Covid-19 Testing Outcomes in the United Kingdom'
            },
            //subtitle: {
            //    text:
            //        'Source: <a href="https://www.ssb.no/en/statbank/table/04231" target="_blank">SSB</a>'
            //},
            xAxis: {
                type: 'category',
                title:{
                    text:'Year'
                }
            },
            yAxis: {
                allowDecimals: false,
                title: {
                    text: 'Total People'
                }
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        this.point.y + ' ' + this.point.name.toLowerCase();
                }
            }
        });

    </script>  

}
